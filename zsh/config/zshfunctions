# DO NOT EDIT THIS FILE
# duplicate this file in zsh/config/zshfunctions
# to enable/add your own custom configuration

# Looks for the custom PHP Code Sniffer ruleset otherwise return PSR-2 as standard
#function get_phpcs_ruleset() {
#    if [ -f ruleset.xml ]; then
#      echo 'ruleset.xml'
#    elif [ -f ~/.phpcs/ruleset.xml ]; then
#      echo '~/.phpcs/ruleset.xml'
#    else
#      echo 'PSR2'
#    fi
#}

# List all ignored folders for PHP Code Sniffer
#function get_phpcs_ignore_list() {
#    echo *\/tests\/*,*\/database\/*
#}

# Checks if phpunit is installed in vendor folder or if we should use global one.
function get_phpunit_install() {
    if [ -f vendor/bin/paratest ]; then
        echo './vendor/bin/paratest'
    elif [ -f vendor/bin/phpunit ]; then
        echo './vendor/bin/phpunit'
    else
        echo 'phpunit'
    fi
}

####################################
# OS specific functions
####################################

if [[ "$OSTYPE" == "linux-gnu" ]]; then
    # Jot function allows you to quickly write
    # notes to a file from shell.
    function jot {
        if [ $1 ]
        then
            cat <<< $1 > /home/marius/Documents/temp
            cat  /home/marius/Documents/jot >> /home/marius/Documents/temp
            mv /home/marius/Documents/temp /home/marius/Documents/jot
        else
            gedit /home/marius/Documents/jot &
        fi
    }
    # Check if tmux exists then start new terminal with tmux
    if command -v tmux>/dev/null; then
        [[ ! $TERM =~ screen ]] && [ -z $TMUX ] && exec tmux
    fi
elif [[ "$OSTYPE" == "darwin"* ]]; then
    # Custom MAC OSX functions

    #Fix displaying of ugly user.
    prompt_context() {
        if [[ "$USER" != "$DEFAULT_USER" || -n "$SSH_CLIENT" ]]; then
            prompt_segment black default "%(!.%{%F{yellow}%}.)$USER"
        fi
    }
fi
